[{"/Users/ZhaoYuwen/Desktop/Evelyn-Frontend/review/src/index.js":"1","/Users/ZhaoYuwen/Desktop/Evelyn-Frontend/review/src/App.js":"2","/Users/ZhaoYuwen/Desktop/Evelyn-Frontend/review/src/reportWebVitals.js":"3","/Users/ZhaoYuwen/Desktop/Evelyn-Frontend/review/src/pages/fullapp/register.js":"4","/Users/ZhaoYuwen/Desktop/Evelyn-Frontend/review/src/pages/fullapp/message.js":"5","/Users/ZhaoYuwen/Desktop/Evelyn-Frontend/review/src/pages/fullapp/login.js":"6","/Users/ZhaoYuwen/Desktop/Evelyn-Frontend/review/src/pages/fullapp/user.js":"7","/Users/ZhaoYuwen/Desktop/Evelyn-Frontend/review/src/pages/fullapp/index.js":"8"},{"size":500,"mtime":1610394934700,"results":"9","hashOfConfig":"10"},{"size":2178,"mtime":1615160092518,"results":"11","hashOfConfig":"10"},{"size":362,"mtime":1610394934700,"results":"12","hashOfConfig":"10"},{"size":1297,"mtime":1614638566723,"results":"13","hashOfConfig":"10"},{"size":2197,"mtime":1615160257760,"results":"14","hashOfConfig":"10"},{"size":1930,"mtime":1614733315835,"results":"15","hashOfConfig":"10"},{"size":2992,"mtime":1615158340137,"results":"16","hashOfConfig":"10"},{"size":1053,"mtime":1614733315834,"results":"17","hashOfConfig":"10"},{"filePath":"18","messages":"19","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"20"},"i071t2",{"filePath":"21","messages":"22","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"23","messages":"24","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"20"},{"filePath":"25","messages":"26","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"20"},{"filePath":"27","messages":"28","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"29","messages":"30","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"20"},{"filePath":"31","messages":"32","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"33","usedDeprecatedRules":"20"},{"filePath":"34","messages":"35","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"36","usedDeprecatedRules":"20"},"/Users/ZhaoYuwen/Desktop/Evelyn-Frontend/review/src/index.js",[],["37","38"],"/Users/ZhaoYuwen/Desktop/Evelyn-Frontend/review/src/App.js",["39"],"/Users/ZhaoYuwen/Desktop/Evelyn-Frontend/review/src/reportWebVitals.js",[],"/Users/ZhaoYuwen/Desktop/Evelyn-Frontend/review/src/pages/fullapp/register.js",[],"/Users/ZhaoYuwen/Desktop/Evelyn-Frontend/review/src/pages/fullapp/message.js",["40","41"],"/Users/ZhaoYuwen/Desktop/Evelyn-Frontend/review/src/pages/fullapp/login.js",[],"/Users/ZhaoYuwen/Desktop/Evelyn-Frontend/review/src/pages/fullapp/user.js",["42","43","44"],"import React, { useEffect, useState } from 'react';\nimport axios from 'axios';\nimport { useLocation, Link, useHistory } from 'react-router-dom';\n\nconst User = () => {\n    const location = useLocation();\n    const history = useHistory();\n    //for displaying the info\n    const [user, setUser] = useState({}); //update the user\n\n    //for editing the profile\n    const [un, setUn] = useState(\"\");\n    const [pass, setPass] = useState(\"\");\n    const [bio, setBio] = useState(\"\");\n    const [avatar, setAvatar] = useState(\"\");\n    /*\n        check if token is expired or if there is a token at all\n            if not redirect back to login\n\n        axios call to get my user profile\n        axios call to update my user profile\n    */\n    const CheckToken = async () => {\n        const resp = await axios.get(\"https://advdyn2021.herokuapp.com/user/me\") //no need to post the user id because the token is already there, it will already auto-check\n        console.log(resp.data)\n        if (resp.data !== \"expired\" && resp.data !== \"no token\") {\n            setUser({\n                ...resp.data\n            })\n            setUn(resp.data.username);\n            setPass(resp.data.password);\n            setBio(resp.data.bio);\n            setAvatar(resp.data.avatar);\n        } else {\n            history.push(\"/login\");\n        }\n    }\n\n    const UpdateProfile = async () => {\n        const resp = await axios.post(\"https://advdyn2021.herokuapp.com/user_edit\", { username: un, password: pass, bio: bio, avatar: avatar });\n        // CheckToken();\n        history.push(\"/profile\");\n    }\n\n    useEffect(() => {\n        CheckToken(); //when the page loads, check if the token is expired or not\n    }, []);\n\n    if (location.pathname === \"/profile/edit\") {\n        return <div>\n            <div>\n                Username - <input type=\"text\" value={un} onChange={(e) => setUn(e.target.value)} />\n            </div>\n            <div>\n                Password - <input type=\"text\" value={pass} onChange={(e) => setPass(e.target.value)} />\n            </div>\n            <div>\n                Bio - <input type=\"text\" value={bio} onChange={(e) => setBio(e.target.value)} />\n            </div>\n            <div>\n                Avatar - <input type=\"text\" value={avatar} onChange={(e) => setAvatar(e.target.value)} />\n            </div>\n            <button onClick={UpdateProfile}>Update Profile</button>\n        </div>\n    } else {\n        return <div>\n            <h3>User Profile:</h3>\n            {user.username && <div>username: {user.username}</div>}\n            {user.password && <div>password: {user.password}</div>}\n            {user.bio && <div>bio: {user.bio}</div>}\n            {user.avatar && <div>avatar: <img src={user.avatar} width={100} height={100} /></div>}\n            <Link to=\"/profile/edit\">\n                Edit Profile\n            </Link>\n            <p />\n            <Link to=\"/message\">\n                Message\n            </Link>\n        </div>\n    }\n}\n\nexport default User;","/Users/ZhaoYuwen/Desktop/Evelyn-Frontend/review/src/pages/fullapp/index.js",["45"],"import React, { useEffect } from 'react';\nimport axios from 'axios';\nimport { useHistory } from 'react-router-dom';\n\nconst Main = () => {\n    const history = useHistory();\n    /*\n        check for a token when the page loads - useEffect\n        if a token exists\n            connect token with axios header\n            redirect them to message/user\n        otherwise let them choose to login or register\n    */\n\n    const CheckToken = async () => {\n        //assume we will store the token in the sessionStorage\n        const token = await sessionStorage.getItem(\"token\");\n        console.log(\"token\", token)\n        if (token) {\n            axios.defaults.headers.common['Authorization'] = token;\n            history.push(\"/profile\");\n        }\n    }\n\n    useEffect(() => {\n        //when the page loads, do the following\n        CheckToken()\n    }, [])\n\n    return <div>\n        <button onClick={() => history.push(\"/login\")}>Login</button>\n        <button onClick={() => history.push(\"/register\")}>Sign Up!</button>\n    </div>\n}\n\nexport default Main;",{"ruleId":"46","replacedBy":"47"},{"ruleId":"48","replacedBy":"49"},{"ruleId":"50","severity":1,"message":"51","line":22,"column":3,"nodeType":"52","messageId":"53","endLine":22,"endColumn":7},{"ruleId":"50","severity":1,"message":"54","line":3,"column":10,"nodeType":"52","messageId":"53","endLine":3,"endColumn":21},{"ruleId":"50","severity":1,"message":"51","line":3,"column":23,"nodeType":"52","messageId":"53","endLine":3,"endColumn":27},{"ruleId":"50","severity":1,"message":"55","line":40,"column":15,"nodeType":"52","messageId":"53","endLine":40,"endColumn":19},{"ruleId":"56","severity":1,"message":"57","line":47,"column":8,"nodeType":"58","endLine":47,"endColumn":10,"suggestions":"59"},{"ruleId":"60","severity":1,"message":"61","line":71,"column":42,"nodeType":"62","endLine":71,"endColumn":92},{"ruleId":"56","severity":1,"message":"57","line":28,"column":8,"nodeType":"58","endLine":28,"endColumn":10,"suggestions":"63"},"no-native-reassign",["64"],"no-negated-in-lhs",["65"],"no-unused-vars","'Link' is defined but never used.","Identifier","unusedVar","'useLocation' is defined but never used.","'resp' is assigned a value but never used.","react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'CheckToken'. Either include it or remove the dependency array.","ArrayExpression",["66"],"jsx-a11y/alt-text","img elements must have an alt prop, either with meaningful text, or an empty string for decorative images.","JSXOpeningElement",["67"],"no-global-assign","no-unsafe-negation",{"desc":"68","fix":"69"},{"desc":"68","fix":"70"},"Update the dependencies array to be: [CheckToken]",{"range":"71","text":"72"},{"range":"73","text":"72"},[1695,1697],"[CheckToken]",[851,853]]